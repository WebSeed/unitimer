{"version":3,"file":"unitimer.umd.js","sources":["../src/now-node.js","../src/now.js","../src/now-browser.js","../src/index.js"],"sourcesContent":["const now = () => {\n  const t = process.hrtime()\n  return (t[0] * 1000) + (t[1] / 1000000)\n}\n\nexport default now\n","import nowNode from './now-node'\nimport nowBrowser from './now-browser'\n\nlet now\nif (typeof window === 'undefined') {\n  now = nowNode\n} else {\n  now = nowBrowser\n}\n\nexport default () => now()\n","const now = () => (\n  typeof window.performance !== 'undefined'\n  && typeof window.performance.now !== 'undefined'\n    ? window.performance.now()\n    : Date.now()\n)\n\nexport default now\n","import now from './now'\n\nconst toFixed = (v, dp) => {\n  if (typeof dp === 'undefined') {\n    return v\n  }\n  return v.toFixed(dp)\n}\n\nconst createInstance = (tag) => {\n  let totalTime\n  let meanTime\n  let minTime\n  let maxTime\n  let count\n  let tookTime\n  let startTimes\n\n  const reset = () => {\n    totalTime = 0\n    meanTime = 0\n    minTime = -1\n    maxTime = -1\n    count = 0\n    tookTime = 0\n    startTimes = {}\n  }\n\n  reset()\n\n  return {\n    start(id = 'default') {\n      const time = now()\n      startTimes[id] = time\n      return this\n    },\n    stop(id = 'default') {\n      const startTime = startTimes[id]\n      if (!startTime) { return -1 }\n      tookTime = now() - startTime\n      minTime = minTime === -1 ? tookTime : Math.min(minTime, tookTime)\n      maxTime = maxTime === -1 ? tookTime : Math.max(maxTime, tookTime)\n      totalTime += tookTime\n      count += 1\n      meanTime = totalTime / count\n      startTimes[id] = undefined\n      return tookTime\n    },\n    reset,\n    took() {\n      return tookTime\n    },\n    total() {\n      return totalTime\n    },\n    mean() {\n      return meanTime\n    },\n    count() {\n      return count\n    },\n    min() {\n      return minTime\n    },\n    max() {\n      return maxTime\n    },\n    stats() {\n      return {\n        mean: meanTime,\n        took: tookTime,\n        total: totalTime,\n        count,\n        min: minTime,\n        max: maxTime\n      }\n    },\n    info(dp) {\n      return `${tag ? `[${tag}] ` : ''}mean: ${toFixed(meanTime, dp)\n      }ms, took: ${toFixed(tookTime, dp)\n      }ms, total: ${toFixed(totalTime, dp)\n      }ms, count: ${count\n      }, min: ${toFixed(minTime, dp)\n      }ms, max: ${toFixed(maxTime, dp)\n      }ms`\n    },\n    log(dp) {\n      // eslint-disable-next-line no-console\n      console.log(this.info(dp))\n    }\n  }\n}\n\nconst isArray = (o) => Object.prototype.toString.call(o) === '[object Array]'\n\nconst isString = (o) => (typeof o === 'string') || (o instanceof String)\n\nconst createTimer = (tags) => {\n  if (isArray(tags)) {\n    const a = []\n    for (let i = 0; i < tags.length; i += 1) {\n      a.push(createInstance(tags[i]))\n    }\n    return a\n  }\n  if (isString(tags)) {\n    return createInstance(tags)\n  }\n  return createInstance()\n}\n\nexport default createTimer\n"],"names":["const","now","window","t","process","hrtime","performance","Date","toFixed","v","dp","createInstance","tag","totalTime","meanTime","minTime","maxTime","count","tookTime","startTimes","reset","start","id","time","this","stop","startTime","Math","min","max","undefined","took","total","mean","stats","info","log","console","tags","Object","prototype","toString","call","a","i","length","push","String"],"mappings":"uKAAAA,ICGIC,EAEFA,EADoB,oBAAXC,sBDHHC,EAAIC,QAAQC,gBACH,IAAPF,EAAE,GAAcA,EAAE,GAAK,4BEDD,IAAvBD,OAAOI,kBACuB,IAA3BJ,OAAOI,YAAYL,IACzBC,OAAOI,YAAYL,MACnBM,KAAKN,+BDMUA,KERfO,WAAWC,EAAGC,eACA,IAAPA,EACFD,EAEFA,EAAED,QAAQE,IAGbC,WAAkBC,OAClBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEEC,aACJP,EAAY,EACZC,EAAW,EACXC,GAAW,EACXC,GAAW,EACXC,EAAQ,EACRC,EAAW,EACXC,EAAa,WAGfC,IAEO,CACLC,eAAMC,kBAAK,eACHC,EAAOtB,WACbkB,EAAWG,GAAMC,EACVC,MAETC,cAAKH,kBAAK,eACFI,EAAYP,EAAWG,UACxBI,GACLR,EAAWjB,IAAQyB,EACnBX,GAAuB,IAAbA,EAAiBG,EAAWS,KAAKC,IAAIb,EAASG,GACxDF,GAAuB,IAAbA,EAAiBE,EAAWS,KAAKE,IAAIb,EAASE,GAGxDJ,GAFAD,GAAaK,IACbD,GAAS,GAETE,EAAWG,QAAMQ,EACVZ,IARmB,SAU5BE,EACAW,uBACSb,GAETc,wBACSnB,GAEToB,uBACSnB,GAETG,wBACSA,GAETW,sBACSb,GAETc,sBACSb,GAETkB,uBACS,CACLD,KAAMnB,EACNiB,KAAMb,EACNc,MAAOnB,QACPI,EACAW,IAAKb,EACLc,IAAKb,IAGTmB,cAAKzB,UACOE,MAAUA,OAAU,aAAWJ,EAAQM,EAAUJ,gBAC9CF,EAAQU,EAAUR,iBACjBF,EAAQK,EAAWH,iBACnBO,YACJT,EAAQO,EAASL,eACfF,EAAQQ,EAASN,SAG/B0B,aAAI1B,GAEF2B,QAAQD,IAAIZ,KAAKW,KAAKzB,uBASP4B,MAJwC,mBAAtCC,OAAOC,UAAUC,SAASC,KAKnCJ,GAAO,SACXK,EAAI,GACDC,EAAI,EAAGA,EAAIN,EAAKO,OAAQD,GAAK,EACpCD,EAAEG,KAAKnC,EAAe2B,EAAKM,YAEtBD,QAR2B,iBAUvBL,GAAAA,aAVkDS,OAWtDpC,EAAe2B,GAEjB3B"}